(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1065:function(e,t,a){Promise.resolve().then(a.bind(a,5646))},5646:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Y}});var r=a(7437),s=a(2265),n=a(4862);function o(){let[e,t]=(0,s.useState)(!1),[a,o]=(0,s.useState)(!1);return(0,r.jsxs)(r.Fragment,{children:[e&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:" rounded-lg p-6 max-w-md relative",children:[(0,r.jsx)("button",{onClick:()=>t(!1),className:"absolute right-4 top-4 hover:text-gray-700",children:(0,r.jsx)(n.Z,{size:35})}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h2",{className:"text-lg",children:"Privacy Notice"}),(0,r.jsx)("p",{children:"We collect no data but your ISP does."})]})]})}),a&&(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:" rounded-lg p-6 max-w-md relative",children:[(0,r.jsx)("button",{onClick:()=>o(!1),className:"absolute right-4 top-4 hover:text-gray-700",children:(0,r.jsx)(n.Z,{size:35})}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h2",{className:"text-lg",children:"Terms"}),(0,r.jsx)("p",{children:"The source code is provided under GPL-V3 License."})]})]})}),(0,r.jsxs)("footer",{className:"flex flex-col gap-2 sm:flex-row py-6 w-full shrink-0 items-center px-4 md:px-6 border-t",children:[(0,r.jsxs)("p",{className:"text-xs text-gray-500",children:["\xa9 2025 Bitzylabs Web Flasher. ",(0,r.jsx)("span",{className:"text-white",children:"Created by WantClue / forked and modified by BitzyLabs"})]}),(0,r.jsxs)("nav",{className:"sm:ml-auto flex gap-4 sm:gap-6 text-secondary-foreground",children:[(0,r.jsx)("button",{onClick:()=>o(!0),className:"text-xs hover:underline underline-offset-4",children:"Terms of Service"}),(0,r.jsx)("button",{onClick:()=>t(!0),className:"text-xs hover:underline underline-offset-4",children:"Privacy"})]})]})]})}var i=a(2815),l=a(4463),c=a(9979),d=a(2015),m=a(9787),f=a(6146),u=a(8492),x=a(3474),h=a(9213),g=a(7042),p=a(3986);function b(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,p.m)((0,g.W)(t))}let y=(0,h.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),w=s.forwardRef((e,t)=>{let{className:a,variant:s,size:n,asChild:o=!1,...i}=e,l=o?x.g7:"button";return(0,r.jsx)(l,{className:b(y({variant:s,size:n,className:a})),ref:t,...i})});w.displayName="Button";var N=a(3556),j=a(251),v=a(1396),k=a.n(v),A=a(1350),S=a(6724),C=a(6796);function E(){let{theme:e,setTheme:t}=(0,A.F)();return(0,r.jsxs)(w,{variant:"ghost",size:"icon",onClick:()=>t("dark"===e?"light":"dark"),className:"w-10 h-10 relative",children:[(0,r.jsx)(S.Z,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,r.jsx)(C.Z,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,r.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}function _(e){let{onOpenPanel:t}=e,{t:a}=(0,j.$G)(),{theme:s,setTheme:n}=(0,A.F)();return(0,r.jsx)("header",{className:"h-20 flex items-center justify-between text-bitronics header-custom",children:(0,r.jsxs)("div",{className:"px-4 lg:px-6 flex items-center w-full max-w-screen-xl mx-auto",children:[(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)("a",{className:"flex items-baseline ",href:"https://bitzylabs.com",children:(0,r.jsx)("img",{src:"dark"===s?"".concat("","/pictures/bitzylabs-logo-dark.png"):"".concat("","/pictures/bitzylabs-logo-light.png"),alt:"Bitzylabs logo",style:{width:"50%"}})})}),(0,r.jsx)("div",{className:"flex-1 flex justify-center",children:(0,r.jsx)("a",{href:"https://discord.com/invite/osmu",target:"_blank",rel:"noopener noreferrer",className:"hover:opacity-90 transition-opacity",children:(0,r.jsx)("img",{src:"https://dcbadge.limes.pink/api/server/3E8ca2dkcC",alt:"Discord Server",className:"h-6 discord-badge"})})}),(0,r.jsx)("div",{className:"flex-1 flex justify-end",children:(0,r.jsxs)("nav",{className:"flex items-center gap-4 sm:gap-6",children:[(0,r.jsx)("button",{className:"text-sm font-medium hover:underline underline-offset-4",onClick:t,children:a("hero.getStarted")}),(0,r.jsx)(k(),{className:"text-sm font-medium hover:underline underline-offset-4",href:"#features",children:a("header.features")}),(0,r.jsx)(k(),{className:"text-sm font-medium hover:underline underline-offset-4",href:"https://www.ebay.com.au/itm/387772980127?",target:"__blank",children:a("header.shop")}),(0,r.jsx)(E,{})]})})]})})}function R(e){let{isOpen:t,onClose:a}=e,{t:s}=(0,j.$G)();return(0,r.jsxs)("div",{className:"fixed top-[5vh] right-0 max-h-[80vh] w-64 bg-white dark:bg-gray-800 p-4 shadow-lg transform ".concat(t?"translate-x-20px":"translate-x-full"," transition-transform duration-300 ease-in-out rounded-lg"),children:[(0,r.jsx)("button",{className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",onClick:a,children:(0,r.jsx)(n.Z,{className:"h-6 w-6"})}),(0,r.jsx)("h2",{className:"text-bitronics text-xl font-bold mb-4",children:s("instructions.title")}),(0,r.jsx)("ol",{className:"list-decimal list-inside space-y-2 text-sm",children:[1,2,3,4,5,6,7].map(e=>(0,r.jsx)("li",{children:s("instructions.steps.".concat(e))},e))}),(0,r.jsxs)("p",{className:"mt-4 text-sm text-gray-500 dark:text-gray-400",children:[s("instructions.moreInfo")," ",(0,r.jsx)("a",{className:"text-blue-500",href:"https://www.osmu.wiki",target:"_blank",rel:"noopener noreferrer",children:s("instructions.documentation")}),"."]})]})}var B=JSON.parse('{"H":[{"name":"Nerdminer","picture":"pictures/nerdminer.png","boards":[]},{"name":"Bitaxe","picture":"pictures/bitaxe.png","boards":[]},{"name":"Nerdaxe","picture":"pictures/nerdaxe.png","boards":[]},{"name":"NerdQaxe","picture":"pictures/NerdQaxe.png","boards":[]},{"name":"NerdNos","picture":"pictures/nerdnos.png","boards":[]}]}');function P(e){let{isOpen:t,onClose:a,selectDevice:s}=e,{t:o}=(0,j.$G)(),i=B.H;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 ".concat(t?"opacity-100":"opacity-0 pointer-events-none"," transition-opacity duration-300 z-40"),onClick:a}),(0,r.jsxs)("div",{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 max-h-[85vh] w-full max-w-4xl px-4 overflow-scroll p-4 shadow-lg ".concat(t?"scale-100 opacity-100":"scale-95 opacity-0 pointer-events-none"," transition-all duration-300 ease-in-out rounded-lg z-50 device-modal"),children:[(0,r.jsx)("button",{className:"absolute top-4 right-4 text-white hover:text-gray-300",onClick:a,children:(0,r.jsx)(n.Z,{className:"h-6 w-6"})}),(0,r.jsx)("h2",{className:"text-xl font-bold mb-4 text-white",children:o("devicesModal.title")}),(0,r.jsx)("div",{className:"flex flex-wrap gap-8 justify-center p-6",children:i.map(e=>(0,r.jsxs)("div",{className:"max-w-1/3 md:max-w-1/4",onClick:()=>{s(e.name)},children:[(0,r.jsx)("img",{className:"mb-2 w-30 h-30 mx-auto object-contain",src:e.picture,alt:e.name}),(0,r.jsx)("div",{className:"mb-4 w-full text-center text-white",children:e.name})]},e.name))})]})]})}var D=a(6565),F=a(4457),I=a(3408);let z=D.fC;D.ZA;let L=D.B4,M=s.forwardRef((e,t)=>{let{className:a,children:s,...n}=e;return(0,r.jsxs)(D.xz,{ref:t,className:b("flex h-10  items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-hidden focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),...n,children:[s,(0,r.jsx)(D.JO,{asChild:!0,children:(0,r.jsx)(F.Z,{className:"h-4 w-4 opacity-50"})})]})});M.displayName=D.xz.displayName;let O=s.forwardRef((e,t)=>{let{className:a,children:s,position:n="popper",...o}=e;return(0,r.jsx)(D.h_,{children:(0,r.jsx)(D.VY,{ref:t,className:b("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:n,...o,children:(0,r.jsx)(D.l_,{className:b("p-1 max-h-[var(--radix-select-content-available-height)] overflow-y-scroll","popper"===n&&"h-auto max-h-[20rem] w-full min-w-[var(--radix-select-trigger-width)]"),style:{scrollbarWidth:"thin",scrollbarColor:"#9CA3AF #E5E7EB"},children:s})})})});O.displayName=D.VY.displayName;let Z=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(D.__,{ref:t,className:b("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...s})});Z.displayName=D.__.displayName;let G=s.forwardRef((e,t)=>{let{className:a,children:s,...n}=e;return(0,r.jsxs)(D.ck,{ref:t,className:b("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-hidden focus:bg-accent focus:text-accent-foreground data-disabled:pointer-events-none data-disabled:opacity-50",a),...n,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(D.wU,{children:(0,r.jsx)(I.Z,{className:"h-4 w-4"})})}),(0,r.jsx)(D.eT,{children:s})]})});G.displayName=D.ck.displayName;let T=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(D.Z0,{ref:t,className:b("-mx-1 my-1 h-px bg-muted",a),...s})});function V(e){let{onValueChange:t,disabled:a,placeholder:s="",values:n=[],value:o}=e;return(0,r.jsxs)(z,{onValueChange:t,disabled:a,value:o||void 0,children:[(0,r.jsx)(M,{children:(0,r.jsx)(L,{placeholder:s})}),(0,r.jsx)(O,{children:n.map(e=>(0,r.jsx)(G,{value:e,children:e},e))})]},o||"empty")}T.displayName=D.Z0.displayName;var W=a(9049);function Q(){var e;let{t}=(0,j.$G)(),[a,n]=(0,s.useState)(""),[o,x]=(0,s.useState)(""),[h,g]=(0,s.useState)(""),[p,b]=(0,s.useState)(""),[y,v]=(0,s.useState)(!1),[k,A]=(0,s.useState)(!1),[S,C]=(0,s.useState)(!1),[E,D]=(0,s.useState)(!1),[F,I]=(0,s.useState)(!1),[z,L]=(0,s.useState)(!1),[M,O]=(0,s.useState)(!0),[Z,G]=(0,s.useState)(!1),[T,Q]=(0,s.useState)(!1),[q,U]=(0,s.useState)(""),[H,Y]=(0,s.useState)([]),[$,J]=(0,s.useState)([]),[K,X]=(0,s.useState)([]),[ee,et]=(0,s.useState)([]),[ea,er]=(0,s.useState)([]),es=(0,s.useRef)(null),en=(0,s.useRef)(null),eo=(0,s.useRef)(null),ei=(0,s.useRef)(null),el=(0,s.useRef)(null),ec=(0,s.useRef)(null),ed=(0,s.useRef)(""),em=async()=>{try{let e=["v1.0.31","v1.0.29"];try{let t=await fetch("".concat("","/firmware/nerdqaxe/manifest.json"));if(t.ok){let a=await t.json();e=a.versions||e,console.log("Available Nerdaxe versions from main manifest:",e)}}catch(e){console.warn("Could not read main nerdqaxe manifest, using fallback versions")}let t=new Map;for(let a of e)try{let e=await fetch("".concat("","/firmware/nerdqaxe/").concat(a,"/manifest.json"));if(!e.ok)continue;let r=await e.json();if(r.boards&&Array.isArray(r.boards)){let e=r.boards.filter(e=>e.startsWith("NerdAxe")&&!e.startsWith("NerdQAxe"));for(let r of e){let e="NerdAxe"===r?"Ultra":"NerdAxeGamma"===r?"Gamma":r;t.has(e)||t.set(e,{name:e,supported_firmware:[]}),t.get(e).supported_firmware.push({version:a,path:"".concat("","/firmware/nerdqaxe/").concat(a,"/").concat(r,"_factory.bin")})}}}catch(e){console.error("Error loading Nerdaxe manifest for ".concat(a,":"),e)}let a=Array.from(t.values());J(a)}catch(e){console.error("Error loading Nerdaxe boards:",e)}},ef=async()=>{try{let e=["v2.10.0"];try{let t=await fetch("".concat("","/firmware/bitaxe/manifest.json"));if(t.ok){let a=await t.json();e=a.versions||e,console.log("Available Bitaxe versions from main manifest:",e)}}catch(e){console.warn("Could not read main bitaxe manifest, using fallback versions")}let t=new Map;for(let a of e)try{let e=await fetch("".concat("","/firmware/bitaxe/").concat(a,"/manifest.json"));if(!e.ok)continue;let r=await e.json();if(r.boards&&Array.isArray(r.boards))for(let e of r.boards){let r="Supra401"===e?"Supra 401":"Gamma601"===e?"Gamma 601":e;t.has(r)||t.set(r,{name:r,supported_firmware:[]}),t.get(r).supported_firmware.push({version:a,path:"".concat("","/firmware/bitaxe/").concat(a,"/").concat(e,"_factory.bin")})}}catch(e){console.error("Error loading Bitaxe manifest for ".concat(a,":"),e)}let a=Array.from(t.values());et(a)}catch(e){console.error("Error loading Bitaxe boards:",e)}},eu=async()=>{try{let e=["v1.0.4"];try{let t=await fetch("".concat("","/firmware/nerdnos/manifest.json"));if(t.ok){let a=await t.json();e=a.versions||e,console.log("Available NerdNos versions from main manifest:",e)}}catch(e){console.warn("Could not read main nerdnos manifest, using fallback versions")}let t=new Map;for(let a of e)try{let e=await fetch("".concat("","/firmware/nerdnos/").concat(a,"/manifest.json"));if(e.ok){let r=await e.json();if(r.boards&&Array.isArray(r.boards))for(let e of r.boards)t.has(e)||t.set(e,{name:e,supported_firmware:[]}),t.get(e).supported_firmware.push({version:a,path:"firmware/nerdnos/".concat(a,"/").concat(e,"_factory.bin")})}}catch(e){console.error("Error loading NerdNos manifest for ".concat(a,":"),e)}let a=Array.from(t.values());er(a)}catch(e){console.error("Error loading NerdNos boards:",e)}},ex=async()=>{try{let e=["v1.0.31","v1.0.29"];try{let t=await fetch("".concat("","/firmware/nerdqaxe/manifest.json"));if(t.ok){let a=await t.json();e=a.versions||e,console.log("Available NerdQaxe versions from main manifest:",e)}}catch(e){console.warn("Could not read main nerdqaxe manifest, using fallback versions")}let t=new Map;for(let a of e)try{let e=await fetch("".concat("","/firmware/nerdqaxe/").concat(a,"/manifest.json"));if(!e.ok)continue;let r=await e.json();if(r.boards&&Array.isArray(r.boards)){let e=r.boards.filter(e=>e.startsWith("NerdQAxe"));for(let r of e){let e="NerdQAxe++"===r?"++ (4.8THs)":"NerdQAxe+"===r?"+ (2.4THs)":r;t.has(e)||t.set(e,{name:e,supported_firmware:[]}),t.get(e).supported_firmware.push({version:a,path:"".concat("","/firmware/nerdqaxe/").concat(a,"/").concat(r,"_factory.bin")})}}}catch(e){console.error("Error loading NerdQaxe manifest for ".concat(a,":"),e)}let a=Array.from(t.values());X(a)}catch(e){console.error("Error loading NerdQaxe boards:",e)}},eh=async()=>{try{let e=new Map;for(let t of["v1.8.3","v1.7.0","v1.6.3"])try{let a=await fetch("".concat("","/firmware/nerdminer/").concat(t,"/manifest.json"));if(!a.ok){console.warn("Manifest not found for ".concat(t));continue}let r=await a.json();if(console.log("Manifest for ".concat(t,":"),r),r.boards&&Array.isArray(r.boards))for(let a of r.boards){let r=a;"NERDMINERV2"===a.toUpperCase()&&(r="NERDMINERV2 ORIGINAL BOARD (TDISPLAY-S3)"),e.has(r)||e.set(r,{name:r,supported_firmware:[]}),e.get(r).supported_firmware.push({version:t,path:"".concat("","/firmware/nerdminer/").concat(t,"/").concat(a,"_factory.bin")})}}catch(e){console.error("Error loading manifest for ".concat(t,":"),e)}let t=Array.from(e.values()).sort((e,t)=>"NERDMINERV2 ORIGINAL BOARD (TDISPLAY-S3)"===e.name?-1:"NERDMINERV2 ORIGINAL BOARD (TDISPLAY-S3)"===t.name?1:e.name.localeCompare(t.name));console.log("All loaded boards:",t),Y(t)}catch(e){console.error("Error loading Nerdminer boards:",e)}};(0,s.useEffect)(()=>{let e=navigator.userAgent.toLowerCase(),t=/chrome|chromium|crios|edge/i.test(e);O(t),document.body.style.background="linear-gradient(rgba(0, 0, 0, 0.9), rgba(0, 0, 0, 0.85)), url('".concat("","/pictures/Bitronics_hw.png')"),document.body.style.backgroundSize="cover",document.body.style.backgroundPosition="center",document.body.style.backgroundAttachment="fixed",eh(),em(),ex(),ef(),eu()},[]),(0,s.useEffect)(()=>{if(eo.current&&!en.current&&E){let e=new W.Terminal({cols:80,rows:24,theme:{background:"#1a1b26",foreground:"#a9b1d6"}});en.current=e,e.open(eo.current),e.writeln(t("status.loggingStarted")),ed.current=t("status.loggingStarted")+"\n"}return()=>{en.current&&(en.current.dispose(),en.current=null)}},[E,t]);let eg=B.H,ep=(()=>{if(""===a)return{boards:[]};let e=eg.find(e=>e.name==a);return e?"Nerdminer"===e.name?{boards:H}:"Nerdaxe"===e.name?{boards:$}:"NerdQaxe"===e.name?{boards:K}:"Bitaxe"===e.name?{boards:ee}:"NerdNos"===e.name?{boards:ea}:e:{boards:[]}})(),eb=""!==o?ep.boards.find(e=>e.name==o):{supported_firmware:[]},ey=""!==h?eb.supported_firmware.find(e=>e.version==h):{path:""},ew=async()=>{v(!0),b(t("status.connecting"));try{let e=await navigator.serial.requestPort();await e.open({baudRate:115200,dataBits:8,stopBits:1,parity:"none",flowControl:"none"}),es.current=e,A(!0),b(t("status.connected"))}catch(e){console.error("Connection failed:",e),b("".concat(t("status.connectionFailed"),": ").concat(e instanceof Error?e.message:String(e)))}finally{v(!1)}},eN=async()=>{E&&await ev();try{var e;(null===(e=es.current)||void 0===e?void 0:e.readable)&&await es.current.close(),es.current=null,A(!1),b("")}catch(e){console.error("Disconnect error:",e),b("".concat(t("status.disconnectError"),": ").concat(e instanceof Error?e.message:String(e)))}},ej=async()=>{if(!es.current){b(t("status.connectFirst"));return}try{D(!0);let t=es.current;ei.current&&await ei.current.cancel(),ec.current&&await ec.current;let a=new TextDecoderStream,r=t.readable.pipeTo(a.writable),s=a.readable,n=s.getReader();el.current=a,ec.current=r,ei.current=n;try{for(;;){var e;let{value:t,done:a}=await n.read();if(a){n.releaseLock();break}null===(e=en.current)||void 0===e||e.write(t),ed.current+=t}}catch(e){console.error("Error in read loop:",e)}}catch(e){console.error("Serial logging error:",e),b("".concat(t("status.loggingError"),": ").concat(e instanceof Error?e.message:String(e)))}D(!1)},ev=async()=>{try{ei.current&&(await ei.current.cancel(),ei.current=null),ec.current&&(await ec.current,ec.current=null),el.current&&(el.current=null)}catch(e){console.error("Error stopping serial logging:",e)}finally{D(!1)}},ek=async(e,t,a)=>{try{console.log("\uD83D\uDCDD Writing simple config data to safe area: 0x".concat("3f0000")),console.log("This method is simple and safe - no SPIFFS complexity");let r=JSON.stringify({[t]:a}),s="WEBFLASHER_CONFIG:"+r;console.log('Config data: "'.concat(s,'"')),console.log("Total size: ".concat(s.length," bytes"));let n=new TextEncoder().encode(s),o=Array.from(n,e=>String.fromCharCode(e)).join("");await e.writeFlash({fileArray:[{data:o,address:4128768}],flashSize:"keep",flashMode:"keep",flashFreq:"keep",eraseAll:!1,compress:!0,reportProgress:(e,t,a)=>{let r=Math.round(t/a*100);console.log("Config write progress: ".concat(r,"% (").concat(t,"/").concat(a," bytes)"))},calculateMD5Hash:()=>""}),console.log("✅ Simple config data written successfully");try{let t;console.log("Verifying config data...");let r=await e.readFlash(4128768,s.length+10);if("string"==typeof r){t=new Uint8Array(r.length);for(let e=0;e<r.length;e++)t[e]=r.charCodeAt(e)}else t=new Uint8Array(r);let n=Array.from(t.slice(0,s.length),e=>String.fromCharCode(e)).join("");console.log('Read back: "'.concat(n,'"')),n===s?(console.log("✅ Config data verification successful!"),console.log('✅ AP name "'.concat(a,'" written to flash at 0x').concat("3f0000"))):console.error("❌ Config data verification failed")}catch(e){console.warn("Could not verify config data:",e)}}catch(e){throw console.error("Error writing simple config:",e),e}},eA=e=>!(!e||0===e.length||e.length>31||/\s/.test(e))&&!!/^[a-zA-Z0-9_-]+$/.test(e),eS=()=>"NERDMINERV2 ORIGINAL BOARD (TDISPLAY-S3)"===o||"ESP32-devKitv1"===o||"ESP32-S3-mini-wemos"===o||"ESP32-S3-devKitv1"===o||"esp32-s3-devkitc1-n32r8"===o||"ESP32-C3-devKitmv1"===o||"ESP32-D0WD-V3-weact"===o,eC=async()=>{if(!es.current){b(t("status.connectFirst"));return}if(!a||!o){b(t("status.selectBoth"));return}if("Nerdminer"===a&&T&&!eA(q)){b("Invalid AP name. Must be 1-31 characters, no spaces, only letters, numbers, underscore and hyphen.");return}C(!0),b(t("status.preparing"));try{let e;E&&await ev(),es.current.readable&&await es.current.close();let r=new N.J7(es.current),s=new N.pq({transport:r,baudrate:115200,romBaudrate:115200,terminal:{clean(){},writeLine(e){},write(e){}}});if(await s.main(),!ey)throw Error("No firmware available for the selected device and board version");let n=0;if("Nerdminer"===a){let t=o;"NERDMINERV2 ORIGINAL BOARD (TDISPLAY-S3)"===t&&(t="NerdminerV2"),Z?(e="".concat("","/firmware/nerdminer/").concat(h,"/").concat(t,"_firmware.bin"),n=65536):(e="".concat("","/firmware/nerdminer/").concat(h,"/").concat(t,"_factory.bin"),n=0)}else if("Nerdaxe"===a||"NerdQaxe"===a){let t;"Nerdaxe"===a?"Ultra"===o?t="NerdAxe":"Gamma"===o&&(t="NerdAxeGamma"):"NerdQaxe"===a&&("++ (4.8THs)"===o?t="NerdQAxe++":"+ (2.4THs)"===o&&(t="NerdQAxe+")),Z?(e="".concat("","/firmware/nerdqaxe/").concat(h,"/").concat(t,"_firmware.bin"),n=65536):(e="".concat("","/firmware/nerdqaxe/").concat(h,"/").concat(t,"_factory.bin"),n=0)}else if("Bitaxe"===a){let t;"Supra 401"===o?t="Supra401":"Gamma 601"===o&&(t="Gamma601"),Z?(e="".concat("","/firmware/bitaxe/").concat(h,"/").concat(t,"_firmware.bin"),n=65536):(e="".concat("","/firmware/bitaxe/").concat(h,"/").concat(t,"_factory.bin"),n=0)}else e=ey.path,n=0;let i=await fetch(e);if(!i.ok)throw Error("Failed to load firmware file");let l=await i.arrayBuffer(),c=new Uint8Array(l),d=Array.from(c,e=>String.fromCharCode(e)).join("");if(b(t("status.flashing",{percent:0})),await s.writeFlash({fileArray:[{data:d,address:n}],flashSize:"keep",flashMode:"keep",flashFreq:"keep",eraseAll:!1,compress:!0,reportProgress:(e,a,r)=>{let s=Math.round(a/r*100);100==s?b(t("status.completed")):b(t("status.flashing",{percent:s}))},calculateMD5Hash:()=>""}),b(t("status.completed")),"Nerdminer"===a&&T&&q&&eA(q)&&eS()){b("Writing custom AP name...");try{await ek(s,"apname",q),b("Custom AP name written successfully")}catch(e){console.warn("Failed to write custom AP name:",e),b("Warning: Failed to write custom AP name, but firmware was flashed successfully")}}await s.hardReset(),b(t("status.success"))}catch(e){console.error("Flashing failed:",e),b("".concat(t("status.flashingFailed"),": ").concat(e instanceof Error?e.message:String(e),". Please try again."))}finally{C(!1)}},eE=e=>{n(e),x(""),g(""),L(!1),"Nerdminer"===e?document.body.style.background="linear-gradient(rgba(0, 0, 0, 0.9), rgba(0, 0, 0, 0.85)), url('".concat("","/pictures/fondoNM3.png')"):document.body.style.background="linear-gradient(rgba(0, 0, 0, 0.9), rgba(0, 0, 0, 0.85)), url('".concat("","/pictures/Bitronics_hw.png')"),document.body.classList.remove("nerdminer-bg"),document.body.style.backgroundSize="cover",document.body.style.backgroundPosition="center",document.body.style.backgroundAttachment="fixed"};return M?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(_,{onOpenPanel:()=>I(!0)}),(0,r.jsx)("section",{className:"w-full py-12 md:py-24 lg:py-32 xl:py-48",children:(0,r.jsx)("div",{className:"container px-4 md:px-6",children:(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-4 text-center gap-8",children:[(0,r.jsxs)("div",{className:"space-y-2 mb-14",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold tracking-tighter sm:text-4xl md:text-5xl lg:text-6xl/none",children:"Nerdminer"===a?"Flash, play and learn with nerdminer":t("hero.title")}),(0,r.jsx)("p",{className:"mx-auto max-w-[700px] text-gray-500 md:text-xl dark:text-gray-400",children:t("hero.description")})]}),(0,r.jsxs)("div",{className:"flex flex-col justify-between items-center w-3/4 gap-y-20 md:flex-row",children:[(0,r.jsxs)("div",{className:"flex flex-col justify-center w-52",children:[""===a?(0,r.jsx)(i.Z,{className:"h-25 w-25 md:h-29 md:w-29 lg:h-37 lg:w-37 mb-4 m-auto",color:"#6B7280",strokeWidth:1}):(0,r.jsx)("img",{src:"".concat("","/").concat(null===(e=eg.find(e=>e.name===a))||void 0===e?void 0:e.picture),alt:a,className:"h-25 w-25 md:h-29 md:w-29 lg:h-37 lg:w-37 mb-4 m-auto object-contain rounded-lg"}),(0,r.jsx)(w,{onClick:()=>{L(!0)},disabled:y||S,children:""===a?t("hero.selectDevice"):a})]}),(0,r.jsxs)("div",{className:"flex flex-col justify-center w-52",children:[(0,r.jsx)(l.Z,{className:"h-25 w-25 md:h-29 md:w-29 lg:h-37 lg:w-37 mb-4 m-auto",color:"#6B7280",strokeWidth:1}),(0,r.jsx)(V,{placeholder:t("hero.selectBoard"),values:ep.boards.map(e=>e.name),onValueChange:e=>{x(e),g("")},disabled:y||S||""===a})]}),(0,r.jsxs)("div",{className:"flex flex-col justify-center w-52",children:[(0,r.jsx)(c.Z,{className:"h-25 w-25 md:h-29 md:w-29 lg:h-37 lg:w-37 mb-4 m-auto",color:"#6B7280",strokeWidth:1}),(0,r.jsx)(V,{placeholder:t("hero.selectFirmware"),values:eb.supported_firmware.map(e=>e.version),onValueChange:g,disabled:y||S||""===o})]})]}),("Nerdminer"===a||"Nerdaxe"===a||"NerdQaxe"===a||"Bitaxe"===a)&&(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-4 justify-center",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 justify-center",children:[(0,r.jsx)("input",{type:"checkbox",id:"keepConfiguration",checked:Z,onChange:e=>G(e.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,r.jsx)("label",{htmlFor:"keepConfiguration",className:"text-sm font-medium text-gray-900 dark:text-gray-300",children:t("hero.keepConfiguration")})]}),eS()&&(0,r.jsxs)("div",{className:"flex items-center space-x-2 justify-center",children:[(0,r.jsx)("input",{type:"checkbox",id:"customAPName",checked:T,onChange:e=>Q(e.target.checked),className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,r.jsx)("label",{htmlFor:"customAPName",className:"text-sm font-medium text-gray-900 dark:text-gray-300",children:"Custom Access Point Name"})]}),T&&eS()&&(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[(0,r.jsx)("input",{type:"text",id:"apName",value:q,onChange:e=>U(e.target.value),placeholder:"Enter AP name (max 31 chars)",maxLength:31,className:"w-64 px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:placeholder-gray-400"}),q&&!eA(q)&&(0,r.jsx)("p",{className:"text-xs text-red-500",children:q.length>31?"Max 31 characters allowed":/\s/.test(q)?"No spaces allowed":/^[a-zA-Z0-9_-]+$/.test(q)?"Invalid AP name":"Only letters, numbers, underscore and hyphen allowed"})]})]}),(0,r.jsxs)("div",{className:"w-full max-w-sm space-y-4",children:[(0,r.jsxs)(w,{className:"w-full",onClick:k?eN:ew,disabled:y||S||!a||!o||!h,children:[k?t("hero.disconnect"):t("hero.connect"),(0,r.jsx)(d.Z,{className:"ml-2 h-4 w-4"})]}),(0,r.jsxs)(w,{className:"w-full mb-4",onClick:eC,disabled:!a||!o||!h||y||S||!k,children:[S?t("hero.flashing"):t("hero.startFlashing"),(0,r.jsx)(m.Z,{className:"ml-2 h-4 w-4"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(w,{className:"flex-1",onClick:E?ev:ej,disabled:!k||S,children:[E?t("hero.stopLogging"):t("hero.startLogging"),(0,r.jsx)(f.Z,{className:"ml-2 h-4 w-4"})]}),(0,r.jsxs)(w,{className:"flex-1",onClick:()=>{let e=new Blob([ed.current],{type:"text/plain"}),t=window.URL.createObjectURL(e),a=document.createElement("a"),r=new Date().toISOString().replace(/[:.]/g,"-");a.href=t,a.download="bitaxe-logs-".concat(r,".txt"),document.body.appendChild(a),a.click(),window.URL.revokeObjectURL(t),document.body.removeChild(a)},disabled:!ed.current,children:[t("hero.downloadLogs"),(0,r.jsx)(u.Z,{className:"ml-2 h-4 w-4"})]})]}),(0,r.jsx)("p",{className:"mx-auto max-w-[400px] text-gray-500 md:text-m dark:text-gray-400",children:t("hero.loggingDescription")}),p&&(0,r.jsx)("p",{className:"mt-2 text-sm font-medium",children:p})]}),E&&(0,r.jsx)("div",{ref:eo,className:"w-full max-w-4xl h-[400px] bg-black rounded-lg overflow-hidden mt-8 border border-gray-700 text-left"})]})})}),(0,r.jsx)(R,{isOpen:F,onClose:()=>I(!1)}),(0,r.jsx)(P,{isOpen:z,onClose:()=>L(!1),selectDevice:e=>eE(e)})]}):(0,r.jsxs)("div",{className:"container px-4 md:px-6 py-12 text-center",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold tracking-tighter sm:text-4xl md:text-5xl lg:text-6xl/none mb-4",children:t("errors.browserCompatibility.title")}),(0,r.jsx)("p",{className:"mx-auto max-w-[700px] text-gray-500 md:text-xl dark:text-gray-400",children:t("errors.browserCompatibility.description")})]})}a(7923);var q=a(1833);function U(){let{t:e}=(0,j.$G)();return(0,r.jsx)("section",{id:"features",className:"w-full py-12 md:py-24 lg:py-32 features-section",children:(0,r.jsxs)("div",{className:"container px-4 md:px-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-center mb-8",children:e("features.title")}),(0,r.jsxs)("div",{className:"grid gap-8 md:grid-cols-3",children:[(0,r.jsx)(H,{icon:(0,r.jsx)(m.Z,{className:"h-12 w-12 mb-4"}),title:e("features.fastFlashing.title"),description:e("features.fastFlashing.description")}),(0,r.jsx)(H,{icon:(0,r.jsx)(q.Z,{className:"h-12 w-12 mb-4"}),title:e("features.webBased.title"),description:e("features.webBased.description")}),(0,r.jsx)(H,{icon:(0,r.jsx)(l.Z,{className:"h-12 w-12 mb-4"}),title:e("features.multipleBoards.title"),description:e("features.multipleBoards.description")})]})]})})}function H(e){let{icon:t,title:a,description:s}=e;return(0,r.jsxs)("div",{className:"flex flex-col items-center text-center",children:[t,(0,r.jsx)("h3",{className:"font-bold mb-2",children:a}),(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:s})]})}function Y(){return(0,r.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,r.jsxs)("main",{className:"flex-1",children:[(0,r.jsx)(Q,{}),(0,r.jsx)(U,{})]}),(0,r.jsx)(o,{})]})}}},function(e){e.O(0,[125,68,641,201,971,596,744],function(){return e(e.s=1065)}),_N_E=e.O()}]);